(function(e){function t(t){for(var s,n,o=t[0],l=t[1],d=t[2],u=0,m=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);c&&c(t);while(m.length)m.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},r={app:0},i=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var c=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"01b4":function(e,t,a){"use strict";var s=a("cb22"),r=a.n(s);r.a},"02b5":function(e,t,a){},"034f":function(e,t,a){"use strict";var s=a("1356"),r=a.n(s);r.a},1356:function(e,t,a){},"2b56":function(e,t,a){"use strict";var s=a("f6b3"),r=a.n(s);r.a},"2f5c":function(e,t,a){"use strict";var s=a("c43c"),r=a.n(s);r.a},"3e4b":function(e,t,a){"use strict";var s=a("e307"),r=a.n(s);r.a},4697:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[e.disableNavigation?s("v-navigation-drawer",{attrs:{app:"",color:"#100F0F","expand-on-hover":""},scopedSlots:e._u([{key:"append",fn:function(){return[s("v-list",{attrs:{dark:""}},[s("v-list-item",{attrs:{link:""},on:{click:e.logout}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-logout")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Logout")])],1)],1)],1)]},proxy:!0}],null,!1,1900997903),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("v-divider"),s("v-list",{attrs:{nav:"",dark:""}},e._l(e.items,function(t){return s("v-list-item",{key:t.title,attrs:{link:"",to:t.link}},[s("v-list-item-icon",[s("v-icon",[e._v(e._s(t.icon))])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(t.title))])],1)],1)}),1)],1):e._e(),e.disableNavigation?s("v-app-bar",{attrs:{app:"",color:"white","elevate-on-scroll":""}},[s("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),s("v-toolbar-title",[s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[s("v-icon",e._g(e._b({staticStyle:{"margin-right":"8px"},attrs:{"x-small":"",color:e.isOpenColor}},"v-icon",r,!1),a),[e._v("\n            mdi-checkbox-blank-circle\n          ")])]}}],null,!1,3989901003)},[null===e.isOpen?s("span",[e._v("No data")]):s("span",[e._v(e._s(e.isOpen?"Accepting new orders":"Closed, not accepting new orders"))])]),"dashboard"===this.$router.currentRoute.name?s("b",[e._v("Dashboard")]):e._e(),"orders"===this.$router.currentRoute.name?s("b",[e._v("Orders")]):e._e(),"menu"===this.$router.currentRoute.name?s("b",[e._v("Daily menu")]):e._e(),"dishes"===this.$router.currentRoute.name?s("b",[e._v("Dishes")]):e._e(),"customers"===this.$router.currentRoute.name?s("b",[e._v("Customers")]):e._e(),"billing"===this.$router.currentRoute.name?s("b",[e._v("Billing")]):e._e(),"settings"===this.$router.currentRoute.name?s("b",[e._v("Settings")]):e._e(),"create"===this.$router.currentRoute.name?s("b",[e._v("Create")]):e._e()],1),s("v-spacer"),s("v-spacer"),s("v-col",{attrs:{cols:"2"}},[s("v-select",{key:e.restaurantId,attrs:{"item-text":"name","item-value":"restaurantId",items:e.access,"single-line":"",filled:"",rounded:"",dense:"","hide-details":""},on:{change:e.getOpenStatus},model:{value:e.restaurantId,callback:function(t){e.restaurantId=t},expression:"restaurantId"}})],1),s("v-btn",{attrs:{icon:"",link:"",to:"/create"}},[s("v-icon",[e._v("mdi-plus")])],1),s("span",{staticClass:"ml-3"},[e._v("made with ♥ by")]),s("v-img",{staticClass:"ml-3",attrs:{"max-width":"75px","max-height":"50px",src:a("fa45"),alt:"Piknik"}})],1):e._e(),s("v-content",{staticClass:"white"},[s("v-container",{attrs:{fluid:""}},[s("router-view",{key:e.restaurantId,on:{"on-open-status-change":function(t){e.isOpen=t}}})],1)],1)],1)},i=[],n=a("bc3a"),o=a.n(n);const l="https://api.piknik.cc",d=`${l}/restaurant`;var c={async createRestaurant(e){const t=await o.a.post(`${d}/create`,e);return t.data},async getRestaurant(e,t){if(t){const a=await o.a.get(`${d}/${e}?pick=${t}`);return a.data}{const t=await o.a.get(`${d}/${e}`);return t.data}},async getMenu(e){const t=await o.a.get(`${d}/menu/${e}`);return t.data},async addCategory(e,t){const a=await o.a.post(`${d}/addcategory`,{restaurantId:e,category:t});return a.data},async editCategory(e,t){const a=await o.a.post(`${d}/editcategory`,{restaurantId:e,category:t});return a.data},async removeCategory(e,t){const a=await o.a.post(`${d}/removecategory`,{restaurantId:e,categoryId:t});return a.data},async addDish(e,t){const a=await o.a.post(`${d}/adddish`,{restaurantId:e,dish:t});return a.data},async editDish(e,t){const a=await o.a.post(`${d}/editdish`,{restaurantId:e,dish:t});return a.data},async removeDish(e,t){const a=await o.a.post(`${d}/removedish`,{restaurantId:e,dishId:t});return a.data},async addDailyMenuDish(e,t){const a=await o.a.post(`${d}/adddailymenudish`,{restaurantId:e,dish:t});return a.data},async editDailyMenuDish(e,t){const a=await o.a.post(`${d}/editdailymenudish`,{restaurantId:e,dish:t});return a.data},async removeDailyMenuDish(e,t){const a=await o.a.post(`${d}/removedailymenudish`,{restaurantId:e,dishId:t});return a.data}},u={data(){return{get access(){return JSON.parse(localStorage.access)},get restaurantId(){return localStorage.restaurantId},set restaurantId(e){return localStorage.restaurantId=e},drawer:null,items:[{title:"Dashboard",icon:"mdi-view-dashboard",link:"/dashboard"},{title:"Orders",icon:"mdi-file",link:"/orders"},{title:"Daily menu",icon:"mdi-calendar",link:"/menu"},{title:"Dishes",icon:"mdi-book-open",link:"/dishes"},{title:"Customers",icon:"mdi-account",link:"/customers"},{title:"Billing",icon:"mdi-credit-card",link:"/billing"},{title:"Settings",icon:"mdi-cog",link:"/settings"}],right:null,isOpen:null}},mounted(){localStorage.access&&(this.access=JSON.parse(localStorage.access),this.getOpenStatus())},watch:{restaurantId(e){localStorage.restaurantId=e}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},disableNavigation:function(){return"/login"!==this.$route.path&&"/register"!==this.$route.path},isOpenColor:function(){return!0===this.isOpen?"success":!1===this.isOpen?"error":"gray"}},methods:{logout:function(){this.$store.dispatch("logout").then(()=>{this.$router.push("/login")})},getOpenStatus:async function(){this.isOpen=await c.getRestaurant(localStorage.restaurantId,"isOpen"),console.log(this.isOpen)}}},m=u,v=(a("034f"),a("2877")),f=a("6544"),p=a.n(f),h=a("7496"),g=a("40dc"),b=a("5bc1"),y=a("8336"),x=a("62ad"),_=a("a523"),k=a("a75b"),w=a("ce7e"),I=a("132d"),S=a("adda"),C=a("8860"),D=a("da13"),V=a("5d23"),$=a("34c3"),T=a("f774"),A=a("b974"),O=a("2fa4"),j=a("2a7f"),M=a("3a2f"),R=Object(v["a"])(m,r,i,!1,null,null,null),E=R.exports;p()(R,{VApp:h["a"],VAppBar:g["a"],VAppBarNavIcon:b["a"],VBtn:y["a"],VCol:x["a"],VContainer:_["a"],VContent:k["a"],VDivider:w["a"],VIcon:I["a"],VImg:S["a"],VList:C["a"],VListItem:D["a"],VListItemContent:V["a"],VListItemIcon:$["a"],VListItemTitle:V["b"],VNavigationDrawer:T["a"],VSelect:A["a"],VSpacer:O["a"],VToolbarTitle:j["a"],VTooltip:M["a"]});var N=a("8c4f"),F=a("2f62");s["a"].use(F["a"]);var P=new F["a"].Store({state:{status:"",token:localStorage.getItem("token")||"",user:{}},mutations:{auth_request(e){e.status="loading"},auth_success(e,t,a){e.status="success",e.token=t,e.user=a},auth_error(e){e.status="error"},logout(e){e.status="",e.token=""}},actions:{register({commit:e},t){return new Promise((a,s)=>{e("auth_request"),o()({url:`${l}/users`,data:t,method:"POST",withCredentials:!0}).then(t=>{const s=t.headers["x-auth"],r=t.data.user;localStorage.setItem("token",s),o.a.defaults.headers.common["x-auth"]=s,e("auth_success",s,r),a(t)}).catch(t=>{e("auth_error",t),localStorage.removeItem("token"),s(t)})})},login({commit:e},t){return new Promise((a,s)=>{e("auth_request"),o()({url:`${l}/session`,data:t,method:"POST",withCredentials:!0}).then(t=>{console.log(t);const s=t.headers["x-auth"],r=t.data.user,i=t.data.access;localStorage.setItem("access",JSON.stringify(i)),null===localStorage.getItem("restaurantId")&&localStorage.setItem("restaurantId",i[0].restaurantId),localStorage.setItem("token",s),o.a.defaults.headers.common["x-auth"]=s,e("auth_success",s,r),a(t)}).catch(t=>{console.log(t),e("auth_error"),localStorage.removeItem("token"),s(t)})})},logout({commit:e}){return new Promise((t,a)=>{o()({url:`${l}/session`,method:"DELETE",withCredentials:!0}).then(a=>{e("logout"),localStorage.removeItem("token"),delete o.a.defaults.headers.common["x-auth"],t(a)}).catch(t=>{e("auth_error"),localStorage.removeItem("token"),a(t)})})}},getters:{isLoggedIn:e=>!!e.token,authStatus:e=>e.status}}),L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Register form")]),a("div",{staticClass:"flex-grow-1"})],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Userame",name:"username",type:"text"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("v-text-field",{attrs:{label:"Email",name:"email",type:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary"},on:{click:e.register}},[e._v("Register")])],1)],1)],1)],1)],1)],1)],1)},z=[],U={props:{source:String},data:()=>({drawer:null,username:"",email:"",password:""}),methods:{register:function(){let e={username:this.name,email:this.email,password:this.password};this.$store.dispatch("register",e).then(()=>this.$router.push("/")).catch(e=>console.log(e))}}},B=U,H=a("b0af"),W=a("99d9"),Y=a("4bd4"),q=a("0fd9"),G=a("8654"),X=a("71d9"),Z=Object(v["a"])(B,L,z,!1,null,null,null);Z.exports;p()(Z,{VApp:h["a"],VBtn:y["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCol:x["a"],VContainer:_["a"],VContent:k["a"],VForm:Y["a"],VRow:q["a"],VTextField:G["a"],VToolbar:X["a"],VToolbarTitle:j["a"]});var K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"overlay"},[s("div",{staticClass:"form-wrapper"},[s("v-img",{staticClass:"mb-8",staticStyle:{margin:"0 auto"},attrs:{"max-width":"100px",src:a("e9b3"),alt:"Piknik"}}),s("h2",{staticClass:"white--text mb-2"},[e._v("Dobrý deň, prosím prihláste sa.")]),s("p",{staticClass:"white--text mb-8"},[e._v("\n      Jednoduchá administrácia reštaurácie z intuitívneho webového rozhrania.\n    ")]),s("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{dark:"",rules:[e.rules.required,e.rules.email],label:"Email",type:"email",rounded:"",dense:"",filled:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("v-text-field",{attrs:{dark:"",rules:[e.rules.required,e.rules.min],"append-icon":e.show?"mdi-eye":"mdi-eye-off",type:e.show?"text":"password",label:"Heslo",rounded:"",dense:"",filled:""},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("v-btn",{attrs:{dark:"",color:"white",depressed:"",rounded:"",disabled:!e.valid||e.snackbar},on:{click:e.login}},[e._v("Prihlásiť sa")])],1)],1),s("v-snackbar",{attrs:{timeout:e.timeout},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    "+e._s(e.snackbarText)+"\n    "),s("v-btn",{attrs:{text:"",small:"",rounded:"",color:"white"},on:{click:function(t){return e.reload()}}},[e._v("Skúsiť znova")])],1)],1)},J=[],Q={props:{source:String},data:()=>({drawer:null,valid:!0,rules:{required:e=>!!e||"Povinné pole.",min:e=>e.length>=8||"Minimálne 8 znakov.",email:e=>/.+@.+\..+/.test(e)||"Email musí byť v správnom formáte."},email:"",show:!1,password:"",snackbar:!1,snackbarText:"Nesprávny email alebo heslo.",timeout:0}),methods:{login:function(){let e={email:this.email,password:this.password};this.$store.dispatch("login",e).then(()=>this.$router.push("/")).catch(e=>{console.log(e),this.snackbar=!0})},reload(){this.email="",this.password="",this.snackbar=!1}}},ee=Q,te=(a("01b4"),a("2db4")),ae=Object(v["a"])(ee,K,J,!1,null,"37939dd5",null),se=ae.exports;p()(ae,{VBtn:y["a"],VForm:Y["a"],VImg:S["a"],VSnackbar:te["a"],VTextField:G["a"]});var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-skeleton-loader",{attrs:{loading:e.loading,type:"article, list-item-two-line@2, actions"}},[a("v-container",[a("v-row",[a("v-card-title",{staticClass:"headline",staticStyle:{color:"black"}},[e._v("\n        Show overview\n        "),a("v-chip-group",{staticStyle:{"margin-left":"8px"},attrs:{mandatory:"","active-class":"primary--text"}},[a("v-chip",{on:{click:function(t){return e.generateChart("hourly")}}},[e._v("hourly")]),a("v-chip",{on:{click:function(t){return e.generateChart("daily")}}},[e._v("daily")]),a("v-chip",{on:{click:function(t){return e.generateChart("weekly")}}},[e._v("weekly")]),a("v-chip",{on:{click:function(t){return e.generateChart("monthly")}}},[e._v("monthly")])],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-card",{staticStyle:{position:"relative","min-height":"250px"},attrs:{elevation:"24"}},[a("div",{staticStyle:{position:"absolute",top:"0px",padding:"16px"}},[a("v-icon",{staticStyle:{"margin-bottom":"8px"},attrs:{color:"#e5f45e"}},[e._v("mdi-checkbox-multiple-marked-outline")]),0!==e.ordersSeries[0].data.length?a("h2",[e._v(e._s(e.ordersSeries[0].data.reduce(function(e,t){return t.map(function(t,a){return(e[a]||0)+t})},[])[1]))]):e._e(),0===e.ordersSeries[0].data.length?a("h2",[e._v("0")]):e._e(),a("span",[e._v("Orders")])],1),a("div",{staticStyle:{position:"absolute",bottom:"0px",width:"100%"}},[a("apexchart",{attrs:{height:"150",type:"area",options:e.ordersChartOptions,series:e.ordersSeries}})],1)])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-card",{staticStyle:{position:"relative","min-height":"250px"},attrs:{elevation:"24"}},[a("div",{staticStyle:{position:"absolute",top:"0px",padding:"16px"}},[a("v-icon",{staticStyle:{"margin-bottom":"8px"},attrs:{color:"#bfec59"}},[e._v("mdi-checkbox-marked-outline")]),0!==e.ordersValueSeries[0].data.length?a("h2",[e._v(e._s((e.ordersValueSeries[0].data.reduce(function(e,t){return t.map(function(t,a){return(e[a]||0)+t})},[])[1]/e.ordersValueSeries[0].data.filter(function(e){return 0!==e[1]}).length).toFixed(2))+" €")]):e._e(),0===e.ordersValueSeries[0].data.length?a("h2",[e._v("0 €")]):e._e(),a("span",[e._v("Average order value")])],1),a("div",{staticStyle:{position:"absolute",bottom:"0px",width:"100%"}},[a("apexchart",{attrs:{height:"150",type:"area",options:e.ordersValueChartOptions,series:e.ordersValueSeries}})],1)])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-card",{staticStyle:{position:"relative","min-height":"250px"},attrs:{color:"secondary",elevation:"24"}},[a("div",{staticStyle:{position:"absolute",top:"0px",padding:"16px",color:"white"}},[a("v-icon",{staticStyle:{"margin-bottom":"8px"},attrs:{color:"primary"}},[e._v("mdi-currency-usd-circle-outline")]),a("h2",[e._v(e._s(e.remainingRestaurantCredit.toFixed(2))+" €")]),a("span",{attrs:{color:"white"}},[e._v("Remaining restaurant credit")])],1),a("div",{staticStyle:{position:"absolute",bottom:"0px",width:"100%"}},[a("apexchart",{attrs:{height:"150",type:"area",options:e.creditChartOptions,series:e.creditsSeries}})],1)])],1),a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticStyle:{position:"relative","min-height":"350px"},attrs:{elevation:"24"}},[a("div",{staticStyle:{position:"absolute",top:"0px",padding:"16px"}},[a("v-icon",{staticStyle:{"margin-bottom":"8px"},attrs:{color:"#13e46d"}},[e._v("mdi-currency-usd-circle-outline")]),0!==e.revenueSeries[0].data.length?a("h2",[e._v(e._s(e.revenueSeries[0].data.reduce(function(e,t){return t.map(function(t,a){return(e[a]||0)+t})},[])[1].toFixed(2))+" €")]):e._e(),0===e.revenueSeries[0].data.length?a("h2",[e._v("0 €")]):e._e(),a("span",[e._v("Revenue")])],1),a("div",{staticStyle:{position:"absolute",bottom:"0px",width:"100%"}},[a("apexchart",{attrs:{height:"250",type:"area",options:e.revenueChartOptions,series:e.revenueSeries}})],1)])],1)],1)],1)],1)},ie=[];const ne=`${l}/transaction`;var oe={async getTransactions(e){const t=await o.a.get(`${ne}/${e}`);return t.data}},le={async generateChartData(e,t,a,s){const r=36e5,i=864e5,n=6048e5,o=2592e6,l=new Date(t[0].created).setHours(new Date(t[0].created).getHours(),0,0);let d=[],c=[];const u=e=>{const a=t.filter(e=>e.amount<0);a.forEach(t=>{let a=t.created,s=Math.floor((a-l)/e);d[s]||(d[s]=[]),d[s].push(t)});for(let t=0;t<d.length;t++)d[t]||(d[t]=[])},m=(a,s)=>{if("orders"===s)d.forEach(e=>{0!==e.length?c.push([e[e.length-1].created,e.length]):c.push([c[c.length-1][0]+a,0])});else if("revenue"===s)d.forEach(e=>{if(0!==e.length){let t=0;t=1===e.length?-1*e[0].amount*100/5:e.reduce((e,{amount:t})=>e+-1*t*100/5,0),c.push([e[e.length-1].created,Number(t.toFixed(2))])}else c.push([c[c.length-1][0]+a,0])});else if("ordersValue"===s)d.forEach(e=>{if(0!==e.length){let t=0;t=1===e.length?-1*e[0].amount*100/5:e.reduce((e,{amount:t})=>e+-1*t*100/5,0),c.push([e[e.length-1].created,Number((t/e.length).toFixed(2))])}else c.push([c[c.length-1][0]+a,0])});else if("credits"===s){const a=e=>{for(var t=new Array,a=e.length-1;a>=0;a--)t.push(e[a]);return t},s=a(t);c.push([Date.now(),e]),s.forEach((e,t)=>{const a=s[t-1]?-1*s[t-1].amount+c[c.length-1][1]:c[c.length-1][1];c.push([e.created,Number(a.toFixed(2))])})}};return"hourly"===s?("credits"!==a&&u(r),m(r,a),c.filter(e=>e[0]<=Date.now()&&e[0]>Date.now()-12*r)):"daily"===s?("credits"!==a&&u(i),m(i,a),c.filter(e=>e[0]<=Date.now()&&e[0]>Date.now()-7*i)):"weekly"===s?("credits"!==a&&u(n),m(n,a),c.filter(e=>e[0]<=Date.now()&&e[0]>Date.now()-4*n)):"monthly"===s?("credits"!==a&&u(o),m(o,a),c.filter(e=>e[0]<=Date.now()&&e[0]>Date.now()-12*o)):void 0}},de={data:()=>({loading:!0,remainingRestaurantCredit:0,transactions:[],ordersSeries:[{name:"Orders",data:[]}],ordersValueSeries:[{name:"Average order value",data:[]}],creditsSeries:[{name:"Restaurant credit",data:[]}],revenueSeries:[{name:"Revenue",data:[]}],ordersChartOptions:{chart:{height:150,type:"area",toolbar:{show:!1},zoom:{enabled:!1},animations:{initialAnimation:{enabled:!0}}},colors:["#e5f45e"],fill:{colors:["#e5f45e"],type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.55,opacityTo:.4,stops:[5,90,100]}},dataLabels:{enabled:!1},grid:{padding:{left:0,right:0},show:!1},yaxis:{show:!1},tooltip:{enabled:!0,x:{show:!1},marker:!1},xaxis:{type:"datetime",labels:{datetimeUTC:!1,show:!0,offsetY:0},axisBorder:{show:!1},axisTicks:{show:!1},tooltip:{enabled:!1}}},ordersValueChartOptions:{chart:{height:150,type:"area",toolbar:{show:!1},zoom:{enabled:!1},animations:{initialAnimation:{enabled:!0}}},colors:["#bfec59"],fill:{colors:["#bfec59"],type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.55,opacityTo:.4,stops:[5,90,100]}},dataLabels:{enabled:!1},grid:{padding:{left:0,right:0},show:!1},yaxis:{show:!1},tooltip:{enabled:!0,x:{show:!1},marker:!1},xaxis:{type:"datetime",labels:{datetimeUTC:!1,show:!0,offsetY:0},axisBorder:{show:!1},axisTicks:{show:!1},tooltip:{enabled:!1}}},creditChartOptions:{chart:{type:"area",toolbar:{show:!1},zoom:{enabled:!1}},stroke:{show:!0,curve:"smooth",lineCap:"round",width:5},colors:["#0360ec"],fill:{colors:["#0360ec"],type:"gradient",gradient:{colorStops:[{offset:50,color:"#100f0f",opacity:0},{offset:100,color:"#0360ec",opacity:.55}]}},dataLabels:{enabled:!1},grid:{padding:{left:0,right:0},show:!1},yaxis:{show:!1},tooltip:{enabled:!0,x:{show:!1},marker:!1},xaxis:{type:"datetime",labels:{datetimeUTC:!1,show:!0,offsetY:0,style:{colors:"#fff"}},axisTicks:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1}}},revenueChartOptions:{chart:{height:250,type:"area",toolbar:{show:!1},zoom:{enabled:!1},animations:{initialAnimation:{enabled:!0}}},colors:["#13e46d"],fill:{colors:["#13e46d"],type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.55,opacityTo:.4,stops:[5,90,100]}},dataLabels:{enabled:!1},grid:{padding:{left:0,right:0},show:!1},yaxis:{show:!1},tooltip:{enabled:!0,x:{show:!1},marker:!1},xaxis:{type:"datetime",labels:{datetimeUTC:!1,show:!0,offsetY:0},axisBorder:{show:!1},axisTicks:{show:!1},tooltip:{enabled:!1}}}}),created(){this.fetchData()},methods:{async fetchData(){const e=await oe.getTransactions(localStorage.getItem("restaurantId"));this.transactions=e.transactions,this.remainingRestaurantCredit=e.remainingRestaurantCredit,this.generateChart("hourly"),this.loading=!1},async generateChart(e){const t=await le.generateChartData(this.remainingRestaurantCredit,this.transactions,"orders",e);this.ordersSeries=[{data:t}];const a=await le.generateChartData(this.remainingRestaurantCredit,this.transactions,"ordersValue",e);this.ordersValueSeries=[{data:a}];const s=await le.generateChartData(this.remainingRestaurantCredit,this.transactions,"credits",e);this.creditsSeries=[{data:s}];const r=await le.generateChartData(this.remainingRestaurantCredit,this.transactions,"revenue",e);this.revenueSeries=[{data:r}]}}},ce=de,ue=(a("2b56"),a("cc20")),me=a("ef9a"),ve=a("3129"),fe=Object(v["a"])(ce,re,ie,!1,null,null,null),pe=fe.exports;p()(fe,{VCard:H["a"],VCardTitle:W["c"],VChip:ue["a"],VChipGroup:me["a"],VCol:x["a"],VContainer:_["a"],VIcon:I["a"],VRow:q["a"],VSkeletonLoader:ve["a"]});var he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-skeleton-loader",{attrs:{loading:e.loading,type:"table"}},[a("v-chip-group",{model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}},[a("v-chip",{attrs:{value:"pending",filter:"",outlined:""}},[e._v("Pending orders")]),a("v-chip",{attrs:{value:"confirmed",filter:"",outlined:"",color:"success"}},[e._v("Confirmed orders")]),a("v-chip",{attrs:{value:"rejected",filter:"",outlined:"",color:"error"}},[e._v("Rejected orders")])],1),a("v-data-table",{attrs:{headers:e.headers,items:e.items,"single-expand":!0,expanded:e.expanded,"item-key":"_id","show-expand":"","sort-by":"created",search:e.selection,"custom-filter":e.customFilter,"sort-desc":!0},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"item.created",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(e._f("moment")(new Date(a.created),"from","now"))+"\n    ")]}},{key:"item.total",fn:function(t){var a=t.item;return[e._v(e._s(a.total.toFixed(2))+" €")]}},{key:"item.status",fn:function(t){var s=t.item;return["pending"===s.status?a("v-chip",{attrs:{small:""}},[e._v("pending")]):e._e(),"confirmed"===s.status?a("v-chip",{attrs:{small:"",color:"success"}},[e._v("confirmed")]):e._e(),"rejected"===s.status?a("v-chip",{attrs:{small:"",color:"error"}},[e._v("rejected")]):e._e()]}},{key:"expanded-item",fn:function(t){var s=t.headers,r=t.item;return[a("td",{attrs:{id:"edpandedTd",colspan:s.length}},[a("v-data-table",{staticClass:"mb-5",staticStyle:{width:"95%",margin:"0 auto"},attrs:{id:"expandedTable",headers:e.orderItemsHeaders,items:r.items,"item-key":"id","hide-default-footer":"","disable-pagination":""},scopedSlots:e._u([{key:"item.total",fn:function(t){var a=t.item;return[e._v(e._s((a.quantity*a.price).toFixed(2))+" €")]}},{key:"item.price",fn:function(t){var a=t.item;return[e._v(e._s(a.price.toFixed(2))+" €")]}},{key:"body.append",fn:function(t){var s=t.headers;t.items;return[a("tr",[a("td",{staticStyle:{"border-top":"1px solid rgba(0, 0, 0, 0.12)"},attrs:{colspan:s.length-1}},[a("b",[e._v("Total")])]),a("td",{staticStyle:{"border-top":"1px solid rgba(0, 0, 0, 0.12)"}},[a("b",[e._v(e._s(r.total.toFixed(2))+" €")])])])]}}],null,!0)}),a("div",{staticStyle:{width:"95%",margin:"0 auto","margin-bottom":"20px"}},[a("v-dialog",{attrs:{"max-width":"600",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.dialogTitle))]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Subject",placeholder:"Your order is on the way",rounded:"",filled:"","hide-details":""},model:{value:e.computedSubject,callback:function(t){e.computedSubject=t},expression:"computedSubject"}})],1),!0===e.confirmationDialog?a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{type:"string",label:"Delivery time",placeholder:"25 minutes",rounded:"",filled:"","hide-details":""},model:{value:e.editedDialog.deliveryTime,callback:function(t){e.$set(e.editedDialog,"deliveryTime",t)},expression:"editedDialog.deliveryTime"}})],1):e._e(),!0===e.confirmationDialog?a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{type:"number",label:"Total with delivery",hint:"Order is "+r.total.toFixed(2)+" €","persistent-hint":"",rounded:"",filled:""},model:{value:e.editedDialog.totalWithDelivery,callback:function(t){e.$set(e.editedDialog,"totalWithDelivery",t)},expression:"editedDialog.totalWithDelivery"}})],1):e._e(),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{filled:"",rounded:"",label:"Message","auto-grow":"","hide-details":""},model:{value:e.computedMessage,callback:function(t){e.computedMessage=t},expression:"computedMessage"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",rounded:""},on:{click:e.close}},[e._v("Close")]),!1===e.confirmationDialog?a("v-btn",{attrs:{color:"error",text:"",rounded:""},on:{click:function(t){return e.rejectOrder(r._id,e.computedSubject,e.computedMessage)}}},[e._v("Reject order")]):e._e(),!0===e.confirmationDialog?a("v-btn",{attrs:{color:"success",text:"",rounded:""},on:{click:function(t){return e.confirmOrder(r._id,e.computedSubject,e.computedMessage)}}},[e._v("Confirm order")]):e._e()],1)],1)],1),a("v-row",[a("v-expansion-panels",{staticStyle:{"margin-bottom":"20px"},attrs:{multiple:"",value:e.panel}},[r.note?a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-expansion-panel",[a("v-expansion-panel-header",[e._v("Note")]),a("v-expansion-panel-content",[e._v(e._s(r.note))])],1)],1):e._e(),r.note?e._e():a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-expansion-panel",{attrs:{disabled:""}},[a("v-expansion-panel-header",[e._v("Note")]),a("v-expansion-panel-content",[e._v("Customer has not provided a\n                    note.")])],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-expansion-panel",[a("v-expansion-panel-header",[e._v("Detailed customer info")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[r.customer.name?a("v-text-field",{attrs:{label:"Name",value:r.customer.name,readonly:"",filled:"",rounded:"",dense:"","hide-details":""}}):e._e()],1),a("v-col",{attrs:{cols:"6"}},[r.customer.email?a("v-text-field",{attrs:{label:"Email",value:r.customer.email,readonly:"",filled:"",rounded:"",dense:"","hide-details":""}}):e._e()],1),a("v-col",{attrs:{cols:"6"}},[r.customer.mobile?a("v-text-field",{attrs:{label:"Mobile",value:r.customer.mobile,readonly:"",filled:"",rounded:"",dense:"","hide-details":""}}):e._e()],1),a("v-col",{attrs:{cols:"6"}},[r.customer.address.street?a("v-text-field",{attrs:{label:"Street",value:r.customer.address.street,readonly:"",filled:"",rounded:"",dense:"","hide-details":""}}):e._e()],1),a("v-col",{attrs:{cols:"3"}},[r.customer.address.city?a("v-text-field",{attrs:{label:"City",value:r.customer.address.city,readonly:"",filled:"",rounded:"",dense:"","hide-details":""}}):e._e()],1),a("v-col",{attrs:{cols:"3"}},[r.customer.address.zip?a("v-text-field",{attrs:{label:"Zip code",value:r.customer.address.zip,readonly:"",filled:"",rounded:"",dense:"","hide-details":""}}):e._e()],1)],1)],1)],1)],1)],1)],1),"pending"===r.status?a("v-btn",{attrs:{color:"success",text:"",rounded:""},on:{click:function(t){e.dialog=!0,e.confirmationDialog=!0}}},[e._v("Confirm order")]):e._e(),"pending"===r.status?a("v-btn",{attrs:{color:"error",text:"",rounded:""},on:{click:function(t){e.dialog=!0,e.confirmationDialog=!1}}},[e._v("Reject order")]):e._e()],1)],1)]}}])})],1)},ge=[];const be=`${l}/order`;var ye={async confirmOrder(e,t,a,s){const r=await o.a.post(`${be}/confirm`,{restaurantId:e,orderId:t,subject:a,message:s});return r.data},async rejectOrder(e,t,a,s){const r=await o.a.post(`${be}/reject`,{restaurantId:e,orderId:t,subject:a,message:s});return r.data}},xe={data:()=>({selection:"pending",a:"20 minutes",b:7.99,c:"Hello, your order is on the way to your home. It will arrive in DELIVERY_TIME. Total with shipping is TOTAL_WITH_DELIVERY €. Thank you for your order. Bon appetite.",loading:!0,dialog:!1,confirmationDialog:Boolean,expanded:[],headers:[{text:"Created",value:"created"},{text:"Customer",value:"customer.email"},{text:"Address / Pickup time",value:"customer.address.raw"},{text:"Mobile",value:"customer.mobile"},{text:"Total",value:"total"},{text:"Status",value:"status"}],orderItemsHeaders:[{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"Price",value:"price"},{text:"Quantity",value:"quantity"},{text:"Total",value:"total"}],items:[],panel:[0],defaultMessages:{confirmation:{subject:"",message:""},rejection:{subject:"",message:""}},defaultDialog:{subject:null,deliveryTime:"",totalWithDelivery:null,message:null},editedDialog:{subject:null,deliveryTime:"",totalWithDelivery:null,message:null},sse:new EventSource(`${l}/order/stream?token=${localStorage.getItem("token")}&restaurantId=${localStorage.getItem("restaurantId")}`,{withCredentials:!0})}),computed:{dialogTitle(){return!0===this.confirmationDialog?"Confirm order":"Reject order"},computedMessage:{get:function(){if(this.confirmationDialog){if(null!==this.editedDialog.message){let e=this.editedDialog.message;return this.editedDialog.deliveryTime&&(e=e.replace("DELIVERY_TIME",this.editedDialog.deliveryTime)),this.editedDialog.totalWithDelivery&&(e=e.replace("TOTAL_WITH_DELIVERY",this.editedDialog.totalWithDelivery)),e}{let e=this.defaultMessages.confirmation.message;return this.editedDialog.deliveryTime&&(e=e.replace("DELIVERY_TIME",this.editedDialog.deliveryTime)),this.editedDialog.totalWithDelivery&&(e=e.replace("TOTAL_WITH_DELIVERY",this.editedDialog.totalWithDelivery)),e}}return null!==this.editedDialog.message?this.editedDialog.message:this.defaultMessages.rejection.message},set:function(e){if(this.confirmationDialog){let t=e;return this.editedDialog.deliveryTime&&(t=t.replace(this.editedDialog.deliveryTime,"DELIVERY_TIME")),this.editedDialog.totalWithDelivery&&(t=t.replace(this.editedDialog.totalWithDelivery,"TOTAL_WITH_DELIVERY")),this.editedDialog.message=t}return this.editedDialog.message=e}},computedSubject:{get:function(){return this.confirmationDialog?null!==this.editedDialog.subject?this.editedDialog.subject:this.defaultMessages.confirmation.subject:null!==this.editedDialog.subject?this.editedDialog.subject:this.defaultMessages.rejection.subject},set:function(e){return this.editedDialog.subject=e}}},created(){this.initializeSse(),this.initialize()},methods:{initializeSse(){this.sse.onmessage=e=>{console.log("SSE message");const t=JSON.parse(e.data);Array.isArray(t)?this.items=t:this.items.push(t),this.loading=!1}},async initialize(){const e=await c.getRestaurant(localStorage.getItem("restaurantId"),"defaultMessages");this.defaultMessages.confirmation.subject=e.confirmation.subject,this.defaultMessages.confirmation.message=e.confirmation.message,this.defaultMessages.rejection.subject=e.rejection.subject,this.defaultMessages.rejection.message=e.rejection.message},customFilter(e,t,a){return null!=e&&null!=t&&null!=a.status&&a.status===t},async confirmOrder(e,t,a){if(window.confirm("Are you sure you want to confirm this order?")){const s=await ye.confirmOrder(localStorage.getItem("restaurantId"),e,t,a),r=this.items.findIndex(e=>e._id===s._id);r&&(this.items[r].status=s.status),this.close()}},async rejectOrder(e,t,a){if(window.confirm("Are you sure you want to reject this order?")){const s=await ye.rejectOrder(localStorage.getItem("restaurantId"),e,t,a),r=this.items.findIndex(e=>e._id===s._id);r&&(this.items[r].status=s.status),this.close()}},close(){this.dialog=!1,setTimeout(()=>{this.editedDialog=Object.assign({},this.defaultDialog)},300)}},beforeRouteLeave(e,t,a){this.sse.close(),a()}},_e=xe,ke=(a("2f5c"),a("8fea")),we=a("169a"),Ie=a("cd55"),Se=a("49e2"),Ce=a("c865"),De=a("0393"),Ve=a("a844"),$e=Object(v["a"])(_e,he,ge,!1,null,null,null),Te=$e.exports;p()($e,{VBtn:y["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VChip:ue["a"],VChipGroup:me["a"],VCol:x["a"],VContainer:_["a"],VDataTable:ke["a"],VDialog:we["a"],VExpansionPanel:Ie["a"],VExpansionPanelContent:Se["a"],VExpansionPanelHeader:Ce["a"],VExpansionPanels:De["a"],VRow:q["a"],VSkeletonLoader:ve["a"],VSpacer:O["a"],VTextField:G["a"],VTextarea:Ve["a"]});var Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-skeleton-loader",{attrs:{loading:e.loading,type:"table"}},[a("v-chip-group",{attrs:{column:"","active-class":"active-category-class"},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}},e._l(e.dates,function(t){return a("v-chip",{key:t,attrs:{pill:"",value:t,color:e.stringToHslColor(t)}},[e._v("\n      "+e._s(t)+"\n    ")])}),1),a("v-data-table",{attrs:{headers:e.headers,items:e.items,"sort-by":"date",search:e.selection,"custom-filter":e.customFilter},scopedSlots:e._u([{key:"body",fn:function(t){var s=t.items;return[a("tbody",e._l(s,function(t){return a("tr",{key:t.name},[a("td",[a("v-chip",{attrs:{small:"",color:e.stringToHslColor(t.date)}},[e._v(e._s(t.date))])],1),a("td",[e._v(e._s(t.id))]),a("td",[e._v(e._s(t.name))]),a("td",e._l(t.synonyms,function(t){return a("v-chip",{key:t,staticClass:"ma-1",attrs:{small:""}},[e._v(e._s(t))])}),1),a("td",[e._v(e._s(t.description))]),a("td",[e._v(e._s(t.amount))]),a("td",[e._v(e._s(t.price)+" €")]),a("td",[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.editItem(t)}}},[e._v("mdi-pencil")]),a("v-icon",{attrs:{small:""},on:{click:function(a){return e.deleteItem(t)}}},[e._v("mdi-delete")])],1)])}),0)]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("div",{staticClass:"flex-grow-1"}),a("v-dialog",{attrs:{"max-width":"800px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"primary",text:"",rounded:""}},s),[e._v("New Item")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.formTitle))]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Date","append-icon":"mdi-calendar",readonly:"",filled:"",rounded:"","hide-details":""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},"v-text-field",r,!1),s))]}}]),model:{value:e.datePickerMenuStatus,callback:function(t){e.datePickerMenuStatus=t},expression:"datePickerMenuStatus"}},[a("v-date-picker",{on:{input:function(t){e.datePickerMenuStatus=!1}},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}})],1)],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{attrs:{type:"number",label:"ID",placeholder:"21",rounded:"",filled:"","hide-details":""},model:{value:e.editedItem.id,callback:function(t){e.$set(e.editedItem,"id",t)},expression:"editedItem.id"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Name",placeholder:"Bryndzové halušky",rounded:"",filled:"","hide-details":""},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-combobox",{attrs:{label:"Add some synonyms",multiple:"","small-chips":"",rounded:"",filled:"",placeholder:"halušky",hint:"Press enter to create a new one.","append-icon":"","persistent-hint":""},model:{value:e.editedItem.synonyms,callback:function(t){e.$set(e.editedItem,"synonyms",t)},expression:"editedItem.synonyms"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Description",placeholder:"halušky, bryndza, slanina",rounded:"",filled:"","hide-details":""},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Amount",placeholder:"400 g",rounded:"",filled:"","hide-details":""},model:{value:e.editedItem.amount,callback:function(t){e.$set(e.editedItem,"amount",t)},expression:"editedItem.amount"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{type:"number",prefix:"€",label:"Price",placeholder:"5,00",rounded:"",filled:"","hide-details":""},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Image URL",placeholder:"https://domain.com/image.jpg",rounded:"",filled:"","hide-details":""},model:{value:e.editedItem.imageUrl,callback:function(t){e.$set(e.editedItem,"imageUrl",t)},expression:"editedItem.imageUrl"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:"",rounded:""},on:{click:e.close}},[e._v("Close")]),a("v-btn",{attrs:{color:"success",text:"",rounded:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}])})],1)},Oe=[],je={data:()=>({loading:!0,dialogCategory:!1,selection:null,dialog:!1,datePickerMenuStatus:!1,categories:[],categoryEditedIndex:-1,defaultCategory:{name:"",rank:null,color:""},editedCategory:{name:"",rank:null,color:""},headers:[{text:"Date",value:"date"},{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"Synonyms",value:"synonyms"},{text:"Description",value:"description"},{text:"Amount",value:"amount"},{text:"Price",value:"price"},{text:"Actions",value:"action",sortable:!1}],items:[],editedIndex:-1,editedItem:{date:(new Date).toISOString().substr(0,10),id:"",name:"",category:"",synonyms:[],description:"",amount:"",price:null,imageUrl:""},defaultItem:{date:(new Date).toISOString().substr(0,10),id:"",name:"",category:"",synonyms:[],description:"",amount:"",price:null,imageUrl:""}}),computed:{formTitle(){return-1===this.editedIndex?"Add new dish to daily menu":"Edit dish"},categoryFormTitle(){return-1===this.categoryEditedIndex?"Add new category":"Edit category"},dates(){let e=[];return this.items.forEach(t=>{-1===e.indexOf(t.date)&&e.push(t.date)}),e.sort()}},watch:{dialog(e){e||this.close()},dialogCategory(e){e||this.closeCategory()}},created(){this.initialize()},methods:{async initialize(){const e=await c.getMenu(localStorage.getItem("restaurantId"));this.items=e.dailyMenu,this.categories=e.categories.sort((e,t)=>parseFloat(e.rank)-parseFloat(t.rank)),this.loading=!1},customFilter(e,t,a){return null!=e&&null!=t&&null!=a.date&&a.date===t},editItem(e){this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},async deleteItem(e){if(window.confirm("Are you sure you want to delete this item?")){const t=await c.removeDailyMenuDish(localStorage.getItem("restaurantId"),e._id);this.items=t}},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},async save(){if(this.editedIndex>-1){const e=await c.editDailyMenuDish(localStorage.getItem("restaurantId"),this.editedItem);this.items=e}else{const e=await c.addDailyMenuDish(localStorage.getItem("restaurantId"),this.editedItem);this.items=e}this.close()},stringToHslColor:function(e,t=100,a=75){let s=e.split("").reverse().join(""),r=0;for(let n=0;n<s.length;n++)r=s.charCodeAt(n)+((r<<5)-r);const i=r%360;return"hsl("+i+", "+t+"%, "+a+"%)"}}},Me=je,Re=(a("b5c4"),a("2b5d")),Ee=a("2e4b"),Ne=a("e449"),Fe=Object(v["a"])(Me,Ae,Oe,!1,null,null,null),Pe=Fe.exports;p()(Fe,{VBtn:y["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VChip:ue["a"],VChipGroup:me["a"],VCol:x["a"],VCombobox:Re["a"],VContainer:_["a"],VDataTable:ke["a"],VDatePicker:Ee["a"],VDialog:we["a"],VIcon:I["a"],VMenu:Ne["a"],VRow:q["a"],VSkeletonLoader:ve["a"],VTextField:G["a"],VToolbar:X["a"]});var Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-skeleton-loader",{attrs:{loading:e.loading,type:"table"}},[a("v-chip-group",{attrs:{column:"","active-class":"active-category-class"},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}},[e._l(e.categories,function(t){return a("v-chip",{key:t._id,attrs:{pill:"",value:t._id,color:t.color}},[a("v-avatar",{attrs:{left:"",color:"#00000015"}},[a("v-icon",{attrs:{small:""},on:{click:function(a){return e.editCategory(t)}}},[e._v("mdi-pencil")])],1),e._v("\n      "+e._s(t.name)+"\n    ")],1)}),a("v-dialog",{attrs:{"max-width":"400",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-icon",e._g({attrs:{title:"Add new category"}},s),[e._v("mdi-plus")])]}}]),model:{value:e.dialogCategory,callback:function(t){e.dialogCategory=t},expression:"dialogCategory"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.categoryFormTitle))]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Name",placeholder:"Drinks",rounded:"",filled:"","hide-details":""},model:{value:e.editedCategory.name,callback:function(t){e.$set(e.editedCategory,"name",t)},expression:"editedCategory.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{type:"number",label:"Rank",placeholder:"1",rounded:"",filled:"","hide-details":""},model:{value:e.editedCategory.rank,callback:function(t){e.$set(e.editedCategory,"rank",t)},expression:"editedCategory.rank"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-color-picker",{staticClass:"mx-auto",attrs:{"hide-canvas":"","hide-inputs":"","hide-mode-switch":"",mode:"hexa"},model:{value:e.editedCategory.color,callback:function(t){e.$set(e.editedCategory,"color",t)},expression:"editedCategory.color"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",rounded:""},on:{click:function(t){e.dialogCategory=!1}}},[e._v("Close")]),e.categoryEditedIndex>-1?a("v-btn",{attrs:{color:"error",text:"",rounded:""},on:{click:function(t){return e.deleteCategory(e.editedCategory)}}},[e._v("Remove category")]):e._e(),a("v-btn",{attrs:{color:"success",text:"",rounded:""},on:{click:function(t){return e.saveCategory()}}},[e._v("Save")])],1)],1)],1)],2),a("v-data-table",{attrs:{headers:e.headers,items:e.items,"sort-by":"id",search:e.selection,"custom-filter":e.filterOnlyCapsText},scopedSlots:e._u([{key:"body",fn:function(t){var s=t.items;return[a("tbody",e._l(s,function(t){return a("tr",{key:t.name},[a("td",[e.categories.find(function(e){return e._id===t.category})?a("v-chip",{attrs:{small:"",color:e.categories.find(function(e){return e._id===t.category}).color}},[e._v(e._s(t.id))]):e._e(),e.categories.find(function(e){return e._id===t.category})?e._e():a("v-chip",{attrs:{small:""}},[e._v(e._s(t.id))])],1),a("td",[e._v(e._s(t.name))]),a("td",e._l(t.synonyms,function(t){return a("v-chip",{key:t,staticClass:"ma-1",attrs:{small:""}},[e._v(e._s(t))])}),1),a("td",[e._v(e._s(t.description))]),a("td",[e._v(e._s(t.amount))]),a("td",[e._v(e._s(t.price)+" €")]),a("td",[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.editItem(t)}}},[e._v("mdi-pencil")]),a("v-icon",{attrs:{small:""},on:{click:function(a){return e.deleteItem(t)}}},[e._v("mdi-delete")])],1)])}),0)]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("div",{staticClass:"flex-grow-1"}),a("v-dialog",{attrs:{"max-width":"800px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"primary",text:"",rounded:""}},s),[e._v("New Item")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.formTitle))]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{attrs:{type:"number",label:"ID",placeholder:"21",rounded:"",filled:"","hide-details":""},model:{value:e.editedItem.id,callback:function(t){e.$set(e.editedItem,"id",t)},expression:"editedItem.id"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-select",{attrs:{items:e.categories,"item-text":"name","item-value":"_id",label:"Kategória",placeholder:"Soups",filled:"",rounded:"",clearable:"","hide-details":""},model:{value:e.editedItem.category,callback:function(t){e.$set(e.editedItem,"category",t)},expression:"editedItem.category"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Name",placeholder:"Bryndzové halušky",rounded:"",filled:"","hide-details":""},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-combobox",{attrs:{label:"Add some synonyms",multiple:"","small-chips":"",rounded:"",filled:"",placeholder:"halušky",hint:"Press enter to create a new one.","append-icon":"","persistent-hint":""},model:{value:e.editedItem.synonyms,callback:function(t){e.$set(e.editedItem,"synonyms",t)},expression:"editedItem.synonyms"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Description",placeholder:"halušky, bryndza, slanina",rounded:"",filled:"","hide-details":""},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Amount",placeholder:"400 g",rounded:"",filled:"","hide-details":""},model:{value:e.editedItem.amount,callback:function(t){e.$set(e.editedItem,"amount",t)},expression:"editedItem.amount"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{type:"number",prefix:"€",label:"Price",placeholder:"5,00",rounded:"",filled:"","hide-details":""},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Image URL",placeholder:"https://domain.com/image.jpg",rounded:"",filled:"","hide-details":""},model:{value:e.editedItem.imageUrl,callback:function(t){e.$set(e.editedItem,"imageUrl",t)},expression:"editedItem.imageUrl"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:"",rounded:""},on:{click:e.close}},[e._v("Close")]),a("v-btn",{attrs:{color:"success",text:"",rounded:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}])})],1)},ze=[],Ue={data:()=>({loading:!0,dialogCategory:!1,selection:null,dialog:!1,categories:[],categoryEditedIndex:-1,defaultCategory:{name:"",rank:null,color:""},editedCategory:{name:"",rank:null,color:""},headers:[{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"Synonyms",value:"synonyms"},{text:"Description",value:"description"},{text:"Amount",value:"amount"},{text:"Price",value:"price"},{text:"Actions",value:"action",sortable:!1}],items:[],editedIndex:-1,editedItem:{id:"",name:"",category:"",synonyms:[],description:"",amount:"",price:null,imageUrl:""},defaultItem:{id:"",name:"",category:"",synonyms:[],description:"",amount:"",price:null,imageUrl:""}}),computed:{formTitle(){return-1===this.editedIndex?"Add new dish":"Edit dish"},categoryFormTitle(){return-1===this.categoryEditedIndex?"Add new category":"Edit category"}},watch:{dialog(e){e||this.close()},dialogCategory(e){e||this.closeCategory()}},created(){this.initialize()},methods:{async initialize(){const e=await c.getMenu(localStorage.getItem("restaurantId"));this.items=e.dishes,this.categories=e.categories.sort((e,t)=>parseFloat(e.rank)-parseFloat(t.rank)),this.loading=!1},filterOnlyCapsText(e,t,a){return null!=e&&null!=t&&null!=a.category&&a.category===t},editCategory(e){this.categoryEditedIndex=this.categories.indexOf(e),this.editedCategory=Object.assign({},e),this.dialogCategory=!0},editItem(e){this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},async deleteCategory(e){if(window.confirm("Are you sure you want to delete this category?")){const t=await c.removeCategory(localStorage.getItem("restaurantId"),e._id);this.categories=t.sort((e,t)=>parseFloat(e.rank)-parseFloat(t.rank)),this.closeCategory()}},async deleteItem(e){if(window.confirm("Are you sure you want to delete this item?")){const t=await c.removeDish(localStorage.getItem("restaurantId"),e._id);this.items=t}},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},closeCategory(){this.dialogCategory=!1,setTimeout(()=>{this.editedCategory=Object.assign({},this.defaultCategory),this.categoryEditedIndex=-1},300)},async save(){if(this.editedIndex>-1){const e=await c.editDish(localStorage.getItem("restaurantId"),this.editedItem);this.items=e}else{const e=await c.addDish(localStorage.getItem("restaurantId"),this.editedItem);this.items=e}this.close()},async saveCategory(){if(this.categoryEditedIndex>-1){const e=await c.editCategory(localStorage.getItem("restaurantId"),this.editedCategory);this.categories=e.sort((e,t)=>parseFloat(e.rank)-parseFloat(t.rank))}else{const e=await c.addCategory(localStorage.getItem("restaurantId"),this.editedCategory);this.categories=e.sort((e,t)=>parseFloat(e.rank)-parseFloat(t.rank))}this.closeCategory()}}},Be=Ue,He=(a("fc98"),a("8212")),We=a("03a4"),Ye=Object(v["a"])(Be,Le,ze,!1,null,null,null),qe=Ye.exports;p()(Ye,{VAvatar:He["a"],VBtn:y["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VChip:ue["a"],VChipGroup:me["a"],VCol:x["a"],VColorPicker:We["a"],VCombobox:Re["a"],VContainer:_["a"],VDataTable:ke["a"],VDialog:we["a"],VIcon:I["a"],VRow:q["a"],VSelect:A["a"],VSkeletonLoader:ve["a"],VSpacer:O["a"],VTextField:G["a"],VToolbar:X["a"]});var Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-skeleton-loader",{attrs:{loading:e.loading,type:"table-heading, list-item-avatar-two-line@5"}})},Xe=[],Ze={data:()=>({loading:!0}),created(){this.fetchData()},methods:{fetchData(){}}},Ke=Ze,Je=Object(v["a"])(Ke,Ge,Xe,!1,null,null,null),Qe=Je.exports;p()(Je,{VSkeletonLoader:ve["a"]});var et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-skeleton-loader",{attrs:{loading:e.loading,type:"article, list-item-two-line@2, actions"}},[a("v-container",[a("v-row",[a("v-card-title",{staticClass:"headline",staticStyle:{color:"black"}},[e._v("\n        Show transactions\n        "),a("v-chip-group",{staticStyle:{"margin-left":"8px"},attrs:{mandatory:"","active-class":"primary--text"}},[a("v-chip",{on:{click:function(t){return e.generateChart("hourly")}}},[e._v("hourly")]),a("v-chip",{on:{click:function(t){return e.generateChart("daily")}}},[e._v("daily")]),a("v-chip",{on:{click:function(t){return e.generateChart("weekly")}}},[e._v("weekly")]),a("v-chip",{on:{click:function(t){return e.generateChart("monthly")}}},[e._v("monthly")])],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",{staticStyle:{position:"relative","min-height":"350px"},attrs:{color:"secondary",elevation:"24"}},[a("div",{staticStyle:{position:"absolute",top:"0px",padding:"16px",color:"white"}},[a("v-icon",{staticStyle:{"margin-bottom":"8px"},attrs:{color:"primary"}},[e._v("mdi-currency-usd-circle-outline")]),a("h2",[e._v(e._s(e.remainingRestaurantCredit.toFixed(2))+" €")]),a("span",{attrs:{color:"white"}},[e._v("Remaining restaurant credit")])],1),a("div",{staticStyle:{position:"absolute",bottom:"0px",width:"100%"}},[a("apexchart",{attrs:{height:"250",type:"area",options:e.chartOptions,series:e.series}})],1)])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{elevation:"24",flat:""}},[a("v-card-title",[e._v("Transaction history")]),a("v-data-table",{attrs:{headers:e.headers,items:e.transactions,"sort-by":"created","sort-desc":!0},scopedSlots:e._u([{key:"item.created",fn:function(t){var a=t.item;return[e._v(e._s(new Date(a.created).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})))]}},{key:"item.amount",fn:function(t){var s=t.item;return[Number(s.amount)>0?a("v-chip",{attrs:{color:"success"}},[e._v(e._s(s.amount)+" €")]):e._e(),Number(s.amount)<0?a("v-chip",{attrs:{color:"error"}},[e._v(e._s(s.amount)+" €")]):e._e(),0===Number(s.amount)?a("v-chip",[e._v(e._s(s.amount)+" €")]):e._e()]}}])})],1)],1)],1)],1)],1)},tt=[],at={data:()=>({loading:!0,remainingRestaurantCredit:0,transactions:[],remainingRestaurantCreditChartData:[],chartOptions:{chart:{type:"area",toolbar:{show:!1},zoom:{enabled:!1}},stroke:{show:!0,curve:"smooth",lineCap:"round",width:5},colors:["#0360ec"],fill:{colors:["#0360ec"],type:"gradient",gradient:{colorStops:[{offset:50,color:"#100f0f",opacity:0},{offset:100,color:"#0360ec",opacity:.55}]}},dataLabels:{enabled:!1},grid:{padding:{left:0,right:0},show:!1},yaxis:{show:!1},tooltip:{enabled:!0,x:{show:!1},marker:!1},xaxis:{type:"datetime",labels:{datetimeUTC:!1,show:!0,offsetY:0,style:{colors:"#fff"}},axisTicks:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1}}},series:[{name:"Restaurant credit",data:[]}],headers:[{text:"Date",value:"created"},{text:"Amount",value:"amount"}]}),created(){this.fetchData()},methods:{async fetchData(){const e=await oe.getTransactions(localStorage.getItem("restaurantId"));this.transactions=e.transactions,this.remainingRestaurantCredit=e.remainingRestaurantCredit,this.generateChart("hourly"),this.loading=!1},async generateChart(e){const t=await le.generateChartData(this.remainingRestaurantCredit,this.transactions,"credits",e);this.series=[{data:t}]}}},st=at,rt=(a("97eb"),Object(v["a"])(st,et,tt,!1,null,null,null)),it=rt.exports;p()(rt,{VCard:H["a"],VCardTitle:W["c"],VChip:ue["a"],VChipGroup:me["a"],VCol:x["a"],VContainer:_["a"],VDataTable:ke["a"],VIcon:I["a"],VRow:q["a"],VSkeletonLoader:ve["a"]});var nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-skeleton-loader",{attrs:{loading:e.loading,type:"article, list-item-two-line, actions"}},[a("v-tabs",{attrs:{centered:""}},[a("v-tab",[e._v("Account")]),a("v-tab",[e._v("Restaurant")]),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-container",[a("v-card-title",{staticClass:"headline pl-0",staticStyle:{color:"black"}},[e._v("\n              Account\n              "),a("v-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"success",text:"",rounded:""},on:{click:function(t){return e.saveUserInfo()}}},[e._v("Save")])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"First name",rounded:"",filled:"","hide-details":""},model:{value:e.account.info.firstName,callback:function(t){e.$set(e.account.info,"firstName",t)},expression:"account.info.firstName"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Last name",rounded:"",filled:"","hide-details":""},model:{value:e.account.info.lastName,callback:function(t){e.$set(e.account.info,"lastName",t)},expression:"account.info.lastName"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Phone number",rounded:"",filled:"","hide-details":""},model:{value:e.account.info.mobile,callback:function(t){e.$set(e.account.info,"mobile",t)},expression:"account.info.mobile"}})],1)],1)],1)],1),a("v-card-text",[a("v-container",[a("v-card-title",{staticClass:"headline pl-0",staticStyle:{color:"black"}},[e._v("\n              Login credentials\n              "),a("v-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"success",disabled:"",text:"",rounded:""}},[e._v("Save")])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Email",disabled:"",rounded:"",filled:"","hide-details":""},model:{value:e.account.email,callback:function(t){e.$set(e.account,"email",t)},expression:"account.email"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Current password",rounded:"",filled:"","hide-details":""},model:{value:e.account.currentPassword,callback:function(t){e.$set(e.account,"currentPassword",t)},expression:"account.currentPassword"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"New password",rounded:"",filled:"","hide-details":""},model:{value:e.account.newPassword,callback:function(t){e.$set(e.account,"newPassword",t)},expression:"account.newPassword"}})],1)],1)],1)],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-container",[a("v-card-title",{staticClass:"headline pl-0",staticStyle:{color:"black"}},[e._v("\n              Online ordering\n              "),a("v-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"success",text:"",rounded:""},on:{click:function(t){return e.saveOnlineOrdering()}}},[e._v("Save")])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-switch",{staticClass:"mt-0 pt-0",attrs:{label:e.restaurant.isOpen?"Enable ordering":"Disable ordering",color:"primary","hide-details":""},model:{value:e.restaurant.isOpen,callback:function(t){e.$set(e.restaurant,"isOpen",t)},expression:"restaurant.isOpen"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.time=t},"update:return-value":function(t){e.time=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Daily menu ordering start","append-icon":"mdi-clock-time-four-outline",readonly:"",filled:"",rounded:"","hide-details":""},model:{value:e.restaurant.dailyMenuOrderingTime.from,callback:function(t){e.$set(e.restaurant.dailyMenuOrderingTime,"from",t)},expression:"restaurant.dailyMenuOrderingTime.from"}},"v-text-field",r,!1),s))]}}]),model:{value:e.timePickerMenuStatus1,callback:function(t){e.timePickerMenuStatus1=t},expression:"timePickerMenuStatus1"}},[e.timePickerMenuStatus1?a("v-time-picker",{attrs:{"full-width":"",format:"24hr",max:e.restaurant.dailyMenuOrderingTime.to},on:{"click:minute":function(t){return e.$refs.menu.save(e.time)}},model:{value:e.restaurant.dailyMenuOrderingTime.from,callback:function(t){e.$set(e.restaurant.dailyMenuOrderingTime,"from",t)},expression:"restaurant.dailyMenuOrderingTime.from"}}):e._e()],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.time=t},"update:return-value":function(t){e.time=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Daily menu ordering end","append-icon":"mdi-clock-time-four-outline",readonly:"",filled:"",rounded:"","hide-details":""},model:{value:e.restaurant.dailyMenuOrderingTime.to,callback:function(t){e.$set(e.restaurant.dailyMenuOrderingTime,"to",t)},expression:"restaurant.dailyMenuOrderingTime.to"}},"v-text-field",r,!1),s))]}}]),model:{value:e.timePickerMenuStatus2,callback:function(t){e.timePickerMenuStatus2=t},expression:"timePickerMenuStatus2"}},[e.timePickerMenuStatus2?a("v-time-picker",{attrs:{"full-width":"",format:"24hr",min:e.restaurant.dailyMenuOrderingTime.from},on:{"click:minute":function(t){return e.$refs.menu.save(e.time)}},model:{value:e.restaurant.dailyMenuOrderingTime.to,callback:function(t){e.$set(e.restaurant.dailyMenuOrderingTime,"to",t)},expression:"restaurant.dailyMenuOrderingTime.to"}}):e._e()],1)],1)],1)],1)],1),a("v-card-text",[a("v-container",[a("v-card-title",{staticClass:"headline pl-0",staticStyle:{color:"black"}},[e._v("\n              Business details\n              "),a("v-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"success",text:"",rounded:""},on:{click:function(t){return e.saveBusinessDetails()}}},[e._v("Save")])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Legal name",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.legalName,callback:function(t){e.$set(e.restaurant.businessDetails,"legalName",t)},expression:"restaurant.businessDetails.legalName"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Business ID",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.businessId,callback:function(t){e.$set(e.restaurant.businessDetails,"businessId",t)},expression:"restaurant.businessDetails.businessId"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Tax ID",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.taxId,callback:function(t){e.$set(e.restaurant.businessDetails,"taxId",t)},expression:"restaurant.businessDetails.taxId"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"VAT reg. no.",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.vat,callback:function(t){e.$set(e.restaurant.businessDetails,"vat",t)},expression:"restaurant.businessDetails.vat"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Street",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.address.street,callback:function(t){e.$set(e.restaurant.businessDetails.address,"street",t)},expression:"restaurant.businessDetails.address.street"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"City",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.address.city,callback:function(t){e.$set(e.restaurant.businessDetails.address,"city",t)},expression:"restaurant.businessDetails.address.city"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Zip",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.address.zip,callback:function(t){e.$set(e.restaurant.businessDetails.address,"zip",t)},expression:"restaurant.businessDetails.address.zip"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"State",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.address.state,callback:function(t){e.$set(e.restaurant.businessDetails.address,"state",t)},expression:"restaurant.businessDetails.address.state"}})],1)],1)],1)],1),a("v-card-text",[a("v-container",[a("v-card-title",{staticClass:"headline pl-0",staticStyle:{color:"black"}},[e._v("\n              Names\n              "),a("v-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"success",text:"",rounded:""},on:{click:function(t){return e.saveNames()}}},[e._v("Save")])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Name",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.names.name,callback:function(t){e.$set(e.restaurant.names,"name",t)},expression:"restaurant.names.name"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Url name",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.names.urlName,callback:function(t){e.$set(e.restaurant.names,"urlName",t)},expression:"restaurant.names.urlName"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Voice name",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.names.voiceName,callback:function(t){e.$set(e.restaurant.names,"voiceName",t)},expression:"restaurant.names.voiceName"}})],1)],1)],1)],1),a("v-card-text",[a("v-container",[a("v-card-title",{staticClass:"headline pl-0",staticStyle:{color:"black"}},[e._v("\n              Information\n              "),a("v-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"success",text:"",rounded:""},on:{click:function(t){return e.saveRestaurantInfo()}}},[e._v("Save")])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Website",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.website,callback:function(t){e.$set(e.restaurant.info.contact,"website",t)},expression:"restaurant.info.contact.website"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Email",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.email,callback:function(t){e.$set(e.restaurant.info.contact,"email",t)},expression:"restaurant.info.contact.email"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Mobile",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.mobile,callback:function(t){e.$set(e.restaurant.info.contact,"mobile",t)},expression:"restaurant.info.contact.mobile"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Street",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.address.street,callback:function(t){e.$set(e.restaurant.info.contact.address,"street",t)},expression:"restaurant.info.contact.address.street"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"City",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.address.city,callback:function(t){e.$set(e.restaurant.info.contact.address,"city",t)},expression:"restaurant.info.contact.address.city"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Zip",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.address.zip,callback:function(t){e.$set(e.restaurant.info.contact.address,"zip",t)},expression:"restaurant.info.contact.address.zip"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"State",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.address.state,callback:function(t){e.$set(e.restaurant.info.contact.address,"state",t)},expression:"restaurant.info.contact.address.state"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Description","auto-grow":"",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.description,callback:function(t){e.$set(e.restaurant.info,"description",t)},expression:"restaurant.info.description"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Opening hours","prepend-inner-icon":"mdi-eye",readonly:"",rounded:"",filled:"","hide-details":""},on:{"click:prepend-inner":function(t){e.dialog=!0}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v("\n                    Click\n                    "),a("v-icon",{staticStyle:{"vertical-align":"middle"},attrs:{small:""}},[e._v("mdi-eye")]),e._v(" to show opening hours\n                  ")]},proxy:!0}])},[a("v-icon",{staticStyle:{"vertical-align":"middle"}},[e._v("mdi-eye")])],1),a("v-dialog",{attrs:{"max-width":"450",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Opening hours")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{attrs:{headers:e.headers,items:e.restaurant.info.openingHours,"hide-default-footer":""},scopedSlots:e._u([{key:"item.day",fn:function(t){var s=t.item;return["monday"===s.day?a("v-chip",[e._v("Monday")]):e._e(),"tuesday"===s.day?a("v-chip",[e._v("Tuesday")]):e._e(),"wednesday"===s.day?a("v-chip",[e._v("Wednesday")]):e._e(),"thursday"===s.day?a("v-chip",[e._v("Thursday")]):e._e(),"friday"===s.day?a("v-chip",[e._v("Friday")]):e._e(),"saturday"===s.day?a("v-chip",[e._v("Saturday")]):e._e(),"sunday"===s.day?a("v-chip",[e._v("Sunday")]):e._e()]}},{key:"item.from",fn:function(t){return[a("v-edit-dialog",{attrs:{"return-value":t.item.from,large:"","cancel-text":"Close","save-text":"Save"},on:{"update:returnValue":function(a){return e.$set(t.item,"from",a)},"update:return-value":function(a){return e.$set(t.item,"from",a)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-select",{staticStyle:{"margin-top":"16px"},attrs:{"menu-props":"auto",items:e.time,label:"10:00","single-line":"",filled:"",rounded:"","hide-details":""},model:{value:t.item.from,callback:function(a){e.$set(t.item,"from",a)},expression:"props.item.from"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.item.from))])])]}},{key:"item.to",fn:function(t){return[a("v-edit-dialog",{attrs:{"return-value":t.item.to,large:"","cancel-text":"Close","save-text":"Save"},on:{"update:returnValue":function(a){return e.$set(t.item,"to",a)},"update:return-value":function(a){return e.$set(t.item,"to",a)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-select",{staticStyle:{"margin-top":"16px"},attrs:{"menu-props":"auto",items:e.time,label:"20:00","single-line":"",filled:"",rounded:"","hide-details":""},model:{value:t.item.to,callback:function(a){e.$set(t.item,"to",a)},expression:"props.item.to"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.item.to))])])]}}])})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",rounded:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")])],1)],1)],1)],1)],1)],1)],1),a("v-card-text",[a("v-container",[a("v-card-title",{staticClass:"headline pl-0",staticStyle:{color:"black"}},[e._v("\n              Default order messages\n              "),a("v-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"success",text:"",rounded:""},on:{click:function(t){return e.saveDefaultMessages()}}},[e._v("Save")])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Confirmation subject",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.defaultMessages.confirmation.subject,callback:function(t){e.$set(e.restaurant.defaultMessages.confirmation,"subject",t)},expression:"restaurant.defaultMessages.confirmation.subject"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Confirmation message","auto-grow":"",rounded:"",filled:"",hint:"Placeholders: DELIVERY_TIME and TOTAL_WITH_DELIVERY","persistent-hint":""},model:{value:e.restaurant.defaultMessages.confirmation.message,callback:function(t){e.$set(e.restaurant.defaultMessages.confirmation,"message",t)},expression:"restaurant.defaultMessages.confirmation.message"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Rejection subject",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.defaultMessages.rejection.subject,callback:function(t){e.$set(e.restaurant.defaultMessages.rejection,"subject",t)},expression:"restaurant.defaultMessages.rejection.subject"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Rejection message","auto-grow":"",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.defaultMessages.rejection.message,callback:function(t){e.$set(e.restaurant.defaultMessages.rejection,"message",t)},expression:"restaurant.defaultMessages.rejection.message"}})],1)],1)],1)],1)],1)],1)],1)],1)},ot=[];const lt=`${l}/users`,dt=`${l}/restaurant`;var ct={async getUser(){const e=await o.a.get(`${lt}`);return e.data},async editUserInfo(e){const t=await o.a.post(`${lt}/editinfo`,{info:e});return t.data},async getRestaurant(e){const t=await o.a.get(`${dt}/${e}`);return t.data},async editOnlineOrdering(e,t,a){const s=await o.a.post(`${dt}/editonlineordering`,{restaurantId:e,status:t,times:a});return s.data},async editBusinessDetails(e,t){const a=await o.a.post(`${dt}/editbusinessdetails`,{restaurantId:e,businessDetails:t});return a.data},async editNames(e,t){const a=await o.a.post(`${dt}/editnames`,{restaurantId:e,names:t});return a.data},async editRestaurantInfo(e,t){const a=await o.a.post(`${dt}/editinfo`,{restaurantId:e,info:t});return a.data},async editDefaultMessages(e,t){const a=await o.a.post(`${dt}/editdefaultmessages`,{restaurantId:e,defaultMessages:t});return a.data}},ut={data:()=>({loading:!0,dialog:!1,timePickerMenuStatus1:!1,timePickerMenuStatus2:!1,time:["0:00","0:30","1:00","1:30","2:00","2:30","3:00","3:30","4:00","4:30","5:00","5:30","6:00","6:30","7:00","7:30","8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30"],headers:[{text:"Day",value:"day",sortable:!1},{text:"From",value:"from",sortable:!1},{text:"To",value:"to",sortable:!1}],desserts:[{day:"monday",from:"14:00",to:"20:00"},{day:"tuesday",from:"14:00",to:"20:00"},{day:"wednesday",from:"14:00",to:"20:00"},{day:"thursday",from:"14:00",to:"20:00"},{day:"friday",from:"14:00",to:"20:00"},{day:"saturday",from:"14:00",to:"20:00"},{day:"sunday",from:"14:00",to:"20:00"}],account:{info:{firstName:null,lastName:null,mobile:null},email:null,currentPassword:null,newPassword:null},restaurant:{isOpen:!1,dailyMenuOrderingTime:{from:null,to:null},businessDetails:{legalName:null,businessId:null,taxId:null,vat:null,address:{street:null,city:null,zip:null,state:null}},names:{name:null,urlName:null,voiceName:null},info:{openingHours:[{day:"monday",from:"14:00",to:"20:00"},{day:"tuesday",from:"14:00",to:"20:00"},{day:"wednesday",from:"14:00",to:"20:00"},{day:"thursday",from:"14:00",to:"20:00"},{day:"friday",from:"14:00",to:"20:00"},{day:"saturday",from:"14:00",to:"20:00"},{day:"sunday",from:"14:00",to:"20:00"}],description:null,contact:{website:null,email:null,mobile:null,address:{street:null,city:null,zip:null,state:null}}},defaultMessages:{confirmation:{subject:null,message:null},rejection:{subject:null,message:null}}}}),created(){this.fetchData()},methods:{async fetchData(){const e=await ct.getUser();this.account.info=e.info,this.account.email=e.email;const t=await ct.getRestaurant(localStorage.getItem("restaurantId"));this.restaurant={...this.restaurant,...t,info:{...this.restaurant.info,...t.info}},this.restaurant.info.openingHours&&0!==this.restaurant.info.openingHours.length||(this.restaurant.info.openingHours=this.desserts),console.log(this.restaurant),this.loading=!1},async saveUserInfo(){this.loading=!0;const e=this.account.info,t=await ct.editUserInfo(e);t&&(this.account.info=t,this.loading=!1)},async saveOnlineOrdering(){this.loading=!0;const e=this.restaurant.isOpen,t=this.restaurant.dailyMenuOrderingTime,a=await ct.editOnlineOrdering(localStorage.getItem("restaurantId"),e,t);a&&(this.restaurant.isOpen=a.isOpen,this.restaurant.dailyMenuOrderingTime=a.dailyMenuOrderingTime,this.$emit("on-open-status-change",this.restaurant.isOpen),this.loading=!1)},async saveBusinessDetails(){this.loading=!0;const e=this.restaurant.businessDetails,t=await ct.editBusinessDetails(localStorage.getItem("restaurantId"),e);t&&(this.restaurant.businessDetails=t,this.loading=!1)},async saveNames(){this.loading=!0;const e=this.restaurant.names,t=await ct.editNames(localStorage.getItem("restaurantId"),e);t&&(this.restaurant.names=t,this.loading=!1)},async saveRestaurantInfo(){this.loading=!0;const e=this.restaurant.info,t=await ct.editRestaurantInfo(localStorage.getItem("restaurantId"),e);t&&(this.restaurant.info=t,this.loading=!1)},async saveDefaultMessages(){this.loading=!0;const e=this.restaurant.defaultMessages,t=await ct.editDefaultMessages(localStorage.getItem("restaurantId"),e);t&&(this.restaurant.defaultMessages=t,this.loading=!1)}}},mt=ut,vt=(a("3e4b"),a("7679")),ft=a("b73d"),pt=a("71a3"),ht=a("c671"),gt=a("fe57"),bt=a("c964"),yt=Object(v["a"])(mt,nt,ot,!1,null,null,null),xt=yt.exports;p()(yt,{VBtn:y["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VChip:ue["a"],VCol:x["a"],VContainer:_["a"],VDataTable:ke["a"],VDialog:we["a"],VEditDialog:vt["a"],VIcon:I["a"],VMenu:Ne["a"],VRow:q["a"],VSelect:A["a"],VSkeletonLoader:ve["a"],VSpacer:O["a"],VSwitch:ft["a"],VTab:pt["a"],VTabItem:ht["a"],VTabs:gt["a"],VTextField:G["a"],VTextarea:Ve["a"],VTimePicker:bt["b"]});var _t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-stepper",{attrs:{vertical:"",elevation:"0"},model:{value:e.e6,callback:function(t){e.e6=t},expression:"e6"}},[a("v-stepper-step",{attrs:{complete:e.e6>1,editable:"",step:"1","edit-icon":"$complete"}},[e._v("\n    Names\n    "),a("small",[e._v("Names that represent your brand")])]),a("v-stepper-content",{attrs:{step:"1"}},[a("v-card-text",[a("v-card-title",{staticClass:"headline",staticStyle:{color:"black"}},[e._v("\n        Names\n        "),a("v-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"primary",text:"",rounded:""},on:{click:function(t){e.e6=2}}},[e._v("Continue")])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Name",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.names.name,callback:function(t){e.$set(e.restaurant.names,"name",t)},expression:"restaurant.names.name"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Url name",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.names.urlName,callback:function(t){e.$set(e.restaurant.names,"urlName",t)},expression:"restaurant.names.urlName"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Voice name",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.names.voiceName,callback:function(t){e.$set(e.restaurant.names,"voiceName",t)},expression:"restaurant.names.voiceName"}})],1)],1)],1)],1),a("v-stepper-step",{attrs:{complete:e.e6>2,editable:"",step:"2","edit-icon":"$complete"}},[e._v("\n    Business details\n    "),a("small",[e._v("Business details on invoices")])]),a("v-stepper-content",{attrs:{step:"2"}},[a("v-card-text",[a("v-card-title",{staticClass:"headline",staticStyle:{color:"black"}},[e._v("\n        Business details\n        "),a("v-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"primary",text:"",rounded:""},on:{click:function(t){e.e6=3}}},[e._v("Continue")])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Legal name",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.legalName,callback:function(t){e.$set(e.restaurant.businessDetails,"legalName",t)},expression:"restaurant.businessDetails.legalName"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Business ID",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.businessId,callback:function(t){e.$set(e.restaurant.businessDetails,"businessId",t)},expression:"restaurant.businessDetails.businessId"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Tax ID",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.taxId,callback:function(t){e.$set(e.restaurant.businessDetails,"taxId",t)},expression:"restaurant.businessDetails.taxId"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"VAT reg. no.",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.vat,callback:function(t){e.$set(e.restaurant.businessDetails,"vat",t)},expression:"restaurant.businessDetails.vat"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Street",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.address.street,callback:function(t){e.$set(e.restaurant.businessDetails.address,"street",t)},expression:"restaurant.businessDetails.address.street"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"City",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.address.city,callback:function(t){e.$set(e.restaurant.businessDetails.address,"city",t)},expression:"restaurant.businessDetails.address.city"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Zip",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.address.zip,callback:function(t){e.$set(e.restaurant.businessDetails.address,"zip",t)},expression:"restaurant.businessDetails.address.zip"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"State",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.businessDetails.address.state,callback:function(t){e.$set(e.restaurant.businessDetails.address,"state",t)},expression:"restaurant.businessDetails.address.state"}})],1)],1)],1)],1),a("v-stepper-step",{attrs:{complete:e.e6>3,editable:"",step:"3","edit-icon":"$complete"}},[e._v("\n    Information\n    "),a("small",[e._v("General information about restaurant")])]),a("v-stepper-content",{attrs:{step:"3"}},[a("v-card-text",[a("v-card-title",{staticClass:"headline",staticStyle:{color:"black"}},[e._v("\n        Information\n        "),a("v-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"primary",text:"",rounded:""},on:{click:function(t){e.e6=4}}},[e._v("Continue")])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Website",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.website,callback:function(t){e.$set(e.restaurant.info.contact,"website",t)},expression:"restaurant.info.contact.website"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Email",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.email,callback:function(t){e.$set(e.restaurant.info.contact,"email",t)},expression:"restaurant.info.contact.email"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Mobile",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.mobile,callback:function(t){e.$set(e.restaurant.info.contact,"mobile",t)},expression:"restaurant.info.contact.mobile"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Street",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.address.street,callback:function(t){e.$set(e.restaurant.info.contact.address,"street",t)},expression:"restaurant.info.contact.address.street"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"City",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.address.city,callback:function(t){e.$set(e.restaurant.info.contact.address,"city",t)},expression:"restaurant.info.contact.address.city"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Zip",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.address.zip,callback:function(t){e.$set(e.restaurant.info.contact.address,"zip",t)},expression:"restaurant.info.contact.address.zip"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"State",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.contact.address.state,callback:function(t){e.$set(e.restaurant.info.contact.address,"state",t)},expression:"restaurant.info.contact.address.state"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Description","auto-grow":"",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.info.description,callback:function(t){e.$set(e.restaurant.info,"description",t)},expression:"restaurant.info.description"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Opening hours","prepend-inner-icon":"mdi-eye",readonly:"",rounded:"",filled:"","hide-details":""},on:{"click:prepend-inner":function(t){e.dialog=!0}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v("\n              Click\n              "),a("v-icon",{staticStyle:{"vertical-align":"middle"},attrs:{small:""}},[e._v("mdi-eye")]),e._v(" to show opening hours\n            ")]},proxy:!0}])},[a("v-icon",{staticStyle:{"vertical-align":"middle"}},[e._v("mdi-eye")])],1),a("v-dialog",{attrs:{"max-width":"450",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Opening hours")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{attrs:{headers:e.headers,items:e.restaurant.info.openingHours,"hide-default-footer":""},scopedSlots:e._u([{key:"item.day",fn:function(t){var s=t.item;return["monday"===s.day?a("v-chip",[e._v("Monday")]):e._e(),"tuesday"===s.day?a("v-chip",[e._v("Tuesday")]):e._e(),"wednesday"===s.day?a("v-chip",[e._v("Wednesday")]):e._e(),"thursday"===s.day?a("v-chip",[e._v("Thursday")]):e._e(),"friday"===s.day?a("v-chip",[e._v("Friday")]):e._e(),"saturday"===s.day?a("v-chip",[e._v("Saturday")]):e._e(),"sunday"===s.day?a("v-chip",[e._v("Sunday")]):e._e()]}},{key:"item.from",fn:function(t){return[a("v-edit-dialog",{attrs:{"return-value":t.item.from,large:"","cancel-text":"Close","save-text":"Save"},on:{"update:returnValue":function(a){return e.$set(t.item,"from",a)},"update:return-value":function(a){return e.$set(t.item,"from",a)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-select",{staticStyle:{"margin-top":"16px"},attrs:{"menu-props":"auto",items:e.time,label:"10:00","single-line":"",filled:"",rounded:"","hide-details":""},model:{value:t.item.from,callback:function(a){e.$set(t.item,"from",a)},expression:"props.item.from"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.item.from))])])]}},{key:"item.to",fn:function(t){return[a("v-edit-dialog",{attrs:{"return-value":t.item.to,large:"","cancel-text":"Close","save-text":"Save"},on:{"update:returnValue":function(a){return e.$set(t.item,"to",a)},"update:return-value":function(a){return e.$set(t.item,"to",a)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-select",{staticStyle:{"margin-top":"16px"},attrs:{"menu-props":"auto",items:e.time,label:"20:00","single-line":"",filled:"",rounded:"","hide-details":""},model:{value:t.item.to,callback:function(a){e.$set(t.item,"to",a)},expression:"props.item.to"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.item.to))])])]}}])})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",rounded:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{items:["EUR","CZK","GBP","PLN"],label:"Currency","single-line":"",filled:"",rounded:"",hint:"Currency cannot be changed in the future","persistent-hint":"",required:""},model:{value:e.restaurant.currency,callback:function(t){e.$set(e.restaurant,"currency",t)},expression:"restaurant.currency"}})],1)],1)],1)],1),a("v-stepper-step",{attrs:{editable:"",step:"4","edit-icon":"$complete"}},[e._v("\n    Default order messages\n    "),a("small",[e._v("These messages will be used as email template which is sent to customer after reviewing the order")])]),a("v-stepper-content",{attrs:{step:"4"}},[a("v-card-text",[a("v-card-title",{staticClass:"headline",staticStyle:{color:"black"}},[e._v("\n        Default order messages\n        "),a("v-btn",{staticStyle:{"margin-left":"8px"},attrs:{color:"success",text:"",rounded:""},on:{click:function(t){return e.createRestaurant()}}},[e._v("Create")])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Confirmation subject",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.defaultMessages.confirmation.subject,callback:function(t){e.$set(e.restaurant.defaultMessages.confirmation,"subject",t)},expression:"restaurant.defaultMessages.confirmation.subject"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Confirmation message","auto-grow":"",rounded:"",filled:"",hint:"Placeholders: DELIVERY_TIME and TOTAL_WITH_DELIVERY","persistent-hint":""},model:{value:e.restaurant.defaultMessages.confirmation.message,callback:function(t){e.$set(e.restaurant.defaultMessages.confirmation,"message",t)},expression:"restaurant.defaultMessages.confirmation.message"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Rejection subject",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.defaultMessages.rejection.subject,callback:function(t){e.$set(e.restaurant.defaultMessages.rejection,"subject",t)},expression:"restaurant.defaultMessages.rejection.subject"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Rejection message","auto-grow":"",rounded:"",filled:"","hide-details":""},model:{value:e.restaurant.defaultMessages.rejection.message,callback:function(t){e.$set(e.restaurant.defaultMessages.rejection,"message",t)},expression:"restaurant.defaultMessages.rejection.message"}})],1)],1)],1)],1)],1)},kt=[],wt={data:()=>({loading:!0,e6:1,dialog:!1,time:["0:00","0:30","1:00","1:30","2:00","2:30","3:00","3:30","4:00","4:30","5:00","5:30","6:00","6:30","7:00","7:30","8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30"],headers:[{text:"Day",value:"day",sortable:!1},{text:"From",value:"from",sortable:!1},{text:"To",value:"to",sortable:!1}],desserts:[{day:"monday",from:"14:00",to:"20:00"},{day:"tuesday",from:"14:00",to:"20:00"},{day:"wednesday",from:"14:00",to:"20:00"},{day:"thursday",from:"14:00",to:"20:00"},{day:"friday",from:"14:00",to:"20:00"},{day:"saturday",from:"14:00",to:"20:00"},{day:"sunday",from:"14:00",to:"20:00"}],account:{info:{firstName:null,lastName:null,mobile:null},email:null,currentPassword:null,newPassword:null},restaurant:{businessDetails:{legalName:null,businessId:null,taxId:null,vat:null,address:{street:null,city:null,zip:null,state:null}},names:{name:null,urlName:null,voiceName:null},info:{openingHours:[],description:null,contact:{website:null,email:null,mobile:null,address:{street:null,city:null,zip:null,state:null}}},defaultMessages:{confirmation:{subject:null,message:null},rejection:{subject:null,message:null}},currency:null}}),created(){this.restaurant.info.openingHours&&0!==this.restaurant.info.openingHours.length||(this.restaurant.info.openingHours=this.desserts)},methods:{async createRestaurant(){Object.keys(this.restaurant.names).forEach(e=>null==this.restaurant.names[e]&&delete this.restaurant.names[e]);const e=await c.createRestaurant(this.restaurant);if(localStorage.access){let t=JSON.parse(localStorage.access);t.push(e),localStorage.access=JSON.stringify(t),localStorage.restaurantId=e.restaurantId,this.$router.push("/dashboard")}}}},It=wt,St=(a("8843"),a("7e85")),Ct=a("e516"),Dt=a("56a4"),Vt=Object(v["a"])(It,_t,kt,!1,null,null,null),$t=Vt.exports;p()(Vt,{VBtn:y["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VChip:ue["a"],VCol:x["a"],VContainer:_["a"],VDataTable:ke["a"],VDialog:we["a"],VEditDialog:vt["a"],VIcon:I["a"],VRow:q["a"],VSelect:A["a"],VSpacer:O["a"],VStepper:St["a"],VStepperContent:Ct["a"],VStepperStep:Dt["a"],VTextField:G["a"],VTextarea:Ve["a"]}),s["a"].use(N["a"]);const Tt=(e,t,a)=>{P.getters.isLoggedIn?a():a("/login")};var At=new N["a"]({mode:"history",base:"/",routes:[{path:"/login",name:"login",component:se},{path:"/dashboard",name:"dashboard",component:pe,beforeEnter:Tt},{path:"/orders",name:"orders",component:Te,beforeEnter:Tt},{path:"/menu",name:"menu",component:Pe,beforeEnter:Tt},{path:"/dishes",name:"dishes",component:qe,beforeEnter:Tt},{path:"/customers",name:"customers",component:Qe,beforeEnter:Tt},{path:"/billing",name:"billing",component:it,beforeEnter:Tt},{path:"/settings",name:"settings",component:xt,beforeEnter:Tt},{path:"/create",name:"create",component:$t,beforeEnter:Tt},{path:"*",redirect:{name:"dashboard"},beforeEnter:Tt}]}),Ot=a("9483");Object(Ot["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var jt=a("f309");s["a"].use(jt["a"]);var Mt=new jt["a"]({theme:{themes:{light:{primary:"#0360ec",secondary:"#100F0F",success:"#13e46d",error:"#fc010e"}}},icons:{iconfont:"mdi"}}),Rt=a("1321"),Et=a.n(Rt);s["a"].component("apexchart",Et.a),s["a"].prototype.$http=o.a,s["a"].prototype.$http.defaults.withCredentials=!0;const Nt=localStorage.getItem("token");Nt&&(s["a"].prototype.$http.defaults.headers.common["x-auth"]=Nt),s["a"].prototype.$http.interceptors.response.use(e=>{return e},e=>{return 401==e.response.status&&(console.log("help"),localStorage.removeItem("token"),delete o.a.defaults.headers.common["x-auth"],At.push("login")),Promise.reject(e)}),s["a"].config.productionTip=!1,s["a"].use(a("2ead")),new s["a"]({router:At,store:P,vuetify:Mt,render:e=>e(E)}).$mount("#app")},8843:function(e,t,a){"use strict";var s=a("4697"),r=a.n(s);r.a},"97eb":function(e,t,a){"use strict";var s=a("e1f1"),r=a.n(s);r.a},b5c4:function(e,t,a){"use strict";var s=a("f199"),r=a.n(s);r.a},c43c:function(e,t,a){},cb22:function(e,t,a){},e1f1:function(e,t,a){},e307:function(e,t,a){},e9b3:function(e,t,a){e.exports=a.p+"img/piknik-logo-white.5e9f2fda.svg"},f199:function(e,t,a){},f6b3:function(e,t,a){},fa45:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdsAAACWBAMAAABk5T8BAAAAMFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///9agToZAAAADnRSTlMAAyUxOz1Ob6rExcb1+a3ZXyEAAAABYktHRA8YugDZAAADTUlEQVR42uXcy20TYQBF4ZtDoIWskOgBiTUVsKACekCiCHbpwBVQA6WwhRZYBJGXx/a8MvM/rnS9SpRMrsff8SYz8tWPj3rh4/PP49efDi88+O7r4IhXb3+N/9b1n4nD/95o1zhq+/g9fIpXt63HG5/u3feTbz+0HqcjrvT6XeNxeuKK28bj9MRtW/P/cXriNq35fpyuuC1rvh+nK27Dmh/G6YrbsOaHcfriNqv5cZy+uM1qfhynL26rmp/G6YzbqOancTrjtqn5eZzOuG1qfh6nN26Lmo/j9MZtUfNxnN64DWoejNMdt37Ng3G641aveThOd9zqNQ/H6Y9bueaTcfrjVq75ZJz+uHVrPh3HALdqzafjGODWrPlsHAPcmjWfjeOAW6/mi39sO+DWq/l8HAfcajVfjGOBW6vmi3EscCvVfDmOBW6lmkeuWnjgVql5ZBwP3Co1j4zjgVuj5rFxTHAr1Dw2jglu+ZrHL0mZ4JaveXQcF9zSNY+P44JbuubxcVxwC9c8MY4Nbtmap6432uAWrXlqHBvcojVPjeODW7DmyXF8cAvWPDmOD265mmcuJhvhFqt5ehwj3FI1z4xjhFuq5plxnHDL1Dw3jhNumZpn7xRwwi1S8+w4Vrglap4dxwq3QM3z41jhFqh5fhwv3N01L90G4oW7u+aFcbxw99a8NI4Z7s6al8Yxw91X8+I4Zrj7al6+x8cNd0/Ny+O44e6peXkcN9wdNa8Yxw53e80rxrHD3Vzzqhu47HA317xmHD/cjTWvGscPd2PNq8bxw91W87pxDHE31bzy7jxDXOl9rfHWn4qy7vGm1h8ueLpX3zq+QCvHS+refOl4vuvGURQviuJFUbwoihdF8aIoXhTFi6J4URQviuJFUbwoihdF8aIoXhTFi6J4URQviuJFUbwoihdF8aIo3uvJnww/Qn3DK3zoyXtorOvKS4c3UMd3L4riRVG8KIoXRfGiKF4UxYuieFEUL4riRVG8KIoXRfGiKF4UxYuieFEUL4riRVG8KIoXRfGiKF4UxYuieFEUL4riRVG8KIoXRfGiKF4UxYuieFEUL4riRVG8KIoXRfGiKF4UxYuieFEUL4riRVG8KIoXRfGiKF4UxYuieP8BoyZNCm9C2Z4AAAAASUVORK5CYII="},fc98:function(e,t,a){"use strict";var s=a("02b5"),r=a.n(s);r.a}});
//# sourceMappingURL=app.c7eeaae8.js.map